{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/ablayelo/Documents/Builds/suivi-vol/flight-tracker/src/app/api/flights/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\n\nexport async function GET(request: Request) {\n    const { searchParams } = new URL(request.url);\n    const flightIata = searchParams.get('flight_iata');\n\n    if (!flightIata) {\n        return NextResponse.json({ error: 'Flight IATA code is required' }, { status: 400 });\n    }\n\n    const API_KEY = process.env.NEXT_PUBLIC_AVIATION_API_KEY;\n\n    if (!API_KEY) {\n        return NextResponse.json({ error: 'API configuration error' }, { status: 500 });\n    }\n\n    try {\n        const response = await fetch(\n            `http://api.aviationstack.com/v1/flights?access_key=${API_KEY}&flight_iata=${flightIata}&limit=1`\n        );\n\n        if (!response.ok) {\n            throw new Error(`Upstream API error: ${response.statusText}`);\n        }\n\n        const data = await response.json();\n        return NextResponse.json(data);\n    } catch (error: any) {\n        console.error('Flight API Error:', error);\n        return NextResponse.json({ error: error.message || 'Failed to fetch flight data' }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,IAAI,OAAgB;IACtC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,aAAa,aAAa,GAAG,CAAC;IAEpC,IAAI,CAAC,YAAY;QACb,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA+B,GAAG;YAAE,QAAQ;QAAI;IACtF;IAEA,MAAM;IAEN;;IAIA,IAAI;QACA,MAAM,WAAW,MAAM,MACnB,CAAC,mDAAmD,EAAE,QAAQ,aAAa,EAAE,WAAW,QAAQ,CAAC;QAGrG,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,UAAU,EAAE;QAChE;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,qBAAqB;QACnC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO,MAAM,OAAO,IAAI;QAA8B,GAAG;YAAE,QAAQ;QAAI;IACtG;AACJ"}}]
}