(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,a,s)=>{a.exports=e.r(76562)},20119,e=>{"use strict";var a=e.i(47167),s=e.i(43476),r=e.i(71645);let t=e=>{let a=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,s)=>s?s.toUpperCase():a.toLowerCase());return a.charAt(0).toUpperCase()+a.slice(1)},l=(...e)=>e.filter((e,a,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===a).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,r.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:t,className:c="",children:n,iconNode:d,...o},h)=>(0,r.createElement)("svg",{ref:h,...i,width:a,height:a,stroke:e,strokeWidth:t?24*Number(s)/Number(a):s,className:l("lucide",c),...!n&&!(e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0})(o)&&{"aria-hidden":"true"},...o},[...d.map(([e,a])=>(0,r.createElement)(e,a)),...Array.isArray(n)?n:[n]])),n=(e,a)=>{let s=(0,r.forwardRef)(({className:s,...i},n)=>(0,r.createElement)(c,{ref:n,iconNode:a,className:l(`lucide-${t(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...i}));return s.displayName=t(e),s},d=n("plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),o=n("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),h=n("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),m=n("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),u=n("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var x=e.i(18566);function p({dictionary:e,lang:t}){let[l,i]=(0,r.useState)(""),[c,n]=(0,r.useState)(null),[p,j]=(0,r.useState)(!1),[v,N]=(0,r.useState)(""),g=(0,x.useRouter)(),f=(0,x.usePathname)(),y=async s=>{if(s.preventDefault(),l.trim()){j(!0),N(""),n(null);try{let s=a.default.env.NEXT_PUBLIC_AVIATION_API_KEY,r=await fetch(`http://api.aviationstack.com/v1/flights?access_key=${s}&flight_iata=${l}&limit=1`),t=await r.json();if(t.error)throw console.error("Aviationstack API Error:",t.error),Error(e.errorFetch);if(!t.data||0===t.data.length)throw Error(e.errorNotFound);let i=t.data[0],c={flightNumber:i.flight.iata,startTime:i.departure.scheduled,endTime:i.arrival.scheduled,departureTimeZone:i.departure.timezone,arrivalTimeZone:i.arrival.timezone,startLocation:`${i.departure.iata} (${i.departure.airport})`,endLocation:`${i.arrival.iata} (${i.arrival.airport})`};n(c)}catch(e){N(e.message)}finally{j(!1)}}},b=e=>{let a=f.replace(`/${t}`,`/${e}`);g.push(a)};return(0,s.jsxs)("main",{className:"container",children:[(0,s.jsx)("div",{className:"absolute top-4 right-4",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>b("en-US"),className:`px-3 py-1 rounded-full text-sm ${"en-US"===t?"bg-primary text-white":"bg-slate-800 text-slate-400"}`,style:{width:"auto"},children:"EN"}),(0,s.jsx)("button",{onClick:()=>b("fr"),className:`px-3 py-1 rounded-full text-sm ${"fr"===t?"bg-primary text-white":"bg-slate-800 text-slate-400"}`,style:{width:"auto"},children:"FR"})]})}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsxs)("div",{className:"header",children:[(0,s.jsx)(d,{className:"icon-large"}),(0,s.jsx)("h1",{children:e.title})]}),(0,s.jsxs)("form",{onSubmit:y,className:"form-group",children:[(0,s.jsxs)("div",{className:"input-wrapper",children:[(0,s.jsx)(m,{className:"input-icon",size:20}),(0,s.jsx)("input",{type:"text",placeholder:e.searchPlaceholder,value:l,onChange:e=>i(e.target.value),autoFocus:!0})]}),(0,s.jsx)("button",{type:"submit",disabled:p,children:p?(0,s.jsx)("span",{className:"loading-text",children:e.searching}):(0,s.jsx)(s.Fragment,{children:e.searchButton})})]}),v&&(0,s.jsxs)("div",{className:"error",children:[(0,s.jsx)(u,{size:20}),(0,s.jsx)("span",{children:v})]}),c&&(0,s.jsxs)("div",{className:"result-card",children:[(0,s.jsx)("div",{className:"flight-header",children:(0,s.jsxs)("div",{className:"flight-number",children:[(0,s.jsx)(d,{className:"rotate-icon"}),(0,s.jsx)("span",{children:c.flightNumber})]})}),(0,s.jsxs)("div",{className:"flight-grid",children:[(0,s.jsxs)("div",{className:"flight-item",children:[(0,s.jsxs)("div",{className:"label-with-icon",children:[(0,s.jsx)(o,{size:16}),(0,s.jsx)("span",{className:"label",children:e.departure})]}),(0,s.jsx)("span",{className:"value",children:c.startLocation})]}),(0,s.jsxs)("div",{className:"flight-item",children:[(0,s.jsxs)("div",{className:"label-with-icon",children:[(0,s.jsx)(o,{size:16}),(0,s.jsx)("span",{className:"label",children:e.arrival})]}),(0,s.jsx)("span",{className:"value",children:c.endLocation})]}),(0,s.jsxs)("div",{className:"flight-item",children:[(0,s.jsxs)("div",{className:"label-with-icon",children:[(0,s.jsx)(h,{size:16}),(0,s.jsx)("span",{className:"label",children:e.departureTime})]}),(0,s.jsxs)("span",{className:"value",children:[new Date(c.startTime).toLocaleString(t),(0,s.jsxs)("span",{className:"sub-text",children:["(",c.departureTimeZone,")"]})]})]}),(0,s.jsxs)("div",{className:"flight-item",children:[(0,s.jsxs)("div",{className:"label-with-icon",children:[(0,s.jsx)(h,{size:16}),(0,s.jsx)("span",{className:"label",children:e.arrivalTime})]}),(0,s.jsxs)("span",{className:"value",children:[new Date(c.endTime).toLocaleString(t),(0,s.jsxs)("span",{className:"sub-text",children:["(",c.arrivalTimeZone,")"]})]})]})]})]})]})]})}e.s(["default",()=>p],20119)}]);